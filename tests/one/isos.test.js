import test from 'tape'
import spacetime from './_lib.js'
const here = '[one/isos] '

test('iso in/out', (t) => {
  let arr = [
    "1022-11-01T00:00:00.000-12:30",
    "1022-12-09T16:00:12.718-12:30",
    "1423-11-00T10:29:12.722-03:00",
    "1423-11-01T10:29:39.237+03:00",
    "1299-01-01T10:29:39.237+03:00",
    "1423-11-07T15:12:37.669Z",
    "1423-11-09T14:52:10.014-07:00",
    "1867-02-02T08:17:14.820+07:00",
    "1867-02-02T08:59:59.820+06:30",
    "1923-11-01T00:00:00.000-07:00",
    "1923-11-01T00:00:00.000Z",
    "1998-02-02T08:59:44.028+07:00",
    "1998-02-02T08:59:59.028+06:30",
    "1999-03-06T00:33:43.374-02:30",
    "1999-03-06T00:59:59.374-06:30",
    "2010-01-01T00:00:00.000+02:00",
    "2021-01-31T05:03:31.708-03:00",
    "2022-02-09T06:00:12.718-12:00",
    "2023-01-01T00:00:00.000-07:00",
    "2023-01-01T00:00:00.000Z",
    "2023-01-02T19:33:42.790-07:00",
    "2023-01-27T05:12:37.669Z",
    "2023-01-30T00:29:12.722-03:00",
    "2023-01-31T00:29:39.237+03:00",
    "2023-01-31T23:23:05.435-03:00",
    "2023-01-31T23:59:59.435-06:30",
    "2023-02-06T19:33:42.790-07:00",
    "2023-02-07T15:02:17.814Z",
    "2023-05-05T23:35:57.750+07:00",
    "2023-05-05T23:59:59.750+06:30",
    "2012-11-29T04:52:10.014-07:00",
    "2018-12-15T18:42:50.087+07:00",
    "2023-12-15T18:59:59.087+06:30",
    "2023-12-29T05:02:17.814Z",
    "2027-01-01T00:00:00.000+02:30",
    "2027-02-06T00:33:43.000+02:30",
    "2023-01-31T23:23:05.435-03:00",
    "2024-01-31T23:59:59.000-06:30",
    "2024-02-06T19:33:42.000-07:00",
    "2024-02-07T15:02:17.000Z",
    "2024-05-05T13:35:57.000+07:00",
    "2024-05-05T13:59:59.000+06:30",
    "2024-11-29T04:52:10.000-07:00",
    "2024-12-15T18:42:50.000+07:00",
    "2024-12-15T18:59:59.000+06:30",
    "2024-12-29T05:02:17.000Z",
    "2027-01-01T00:00:00.000+02:30",
    "2027-02-06T00:33:43.000+02:30",
    "3010-02-06T17:59:15.366+02:00",
  ]
  arr.forEach(iso => {
    let s = spacetime(iso)
    t.equal(s.iso(), iso, here + iso)
    // go back-forth
    s = s.add(18, 'hour').minus(18, 'hour')
    s = s.add(22, 'day').minus(22, 'day')
    s = s.add(22, 'minute').minus(44, 'minute').add(22, 'minute')
    t.equal(s.iso(), iso, here + 'still ' + iso)
  })
  t.end()
})
