!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).spacetime=t()}(this,(function(){"use strict";var e={methods:{now:()=>(new Date).getTime(),parse:e=>e},model:{},config:{},zones:{}};class t{constructor(t,r){Object.defineProperty(this,"world",{value:e});const{methods:n}=e;r=n.parseTz(r,e);let o=n.parse(t,r,e);this._epoch=o.epoch,this.tz=o.tz||n.fallbackTz(e),Object.defineProperty(this,"isSpacetime",{value:!0})}get epoch(){if(this.isRunning&&null!==this.startEpoch){let e=this.methods.now()-this.startEpoch;return this._epoch+e}return this._epoch}}t.prototype._from=function(e,r){return new t(e,r||this.tz)},t.prototype.set=function(t,r){const{methods:n}=e;r=n.parseTz(r,e);let o=n.parse(t,r,e);return this._from(o.epoch,o.tz)};var r=t;const n=(e,t)=>new r(e,t);Object.defineProperty(n,"world",{value:e}),n.plugin=function(e){Object.assign(n.world.zones,e.zones||{}),Object.assign(n.world.config,e.config||{}),Object.assign(n.world.model,e.model||{}),Object.assign(r.prototype,e.api||{}),Object.assign(n.world.methods,e.methods||{})},n.version="7.4.0",n.now=e=>new r(null,e),n.today=e=>n.now(e).startOf("day"),n.tomorrow=e=>n.today(e).add(1,"day"),n.yesterday=e=>n.today(e).minus(1,"day"),n.zones=function(){return this.world.zones};var o=n;const a=36e5,s=24*a;var i={months:[null,{longForm:"January",shortForm:"Jan",len:31},{longForm:"February",shortForm:"Feb",len:28},{longForm:"March",shortForm:"Mar",len:31},{longForm:"April",shortForm:"Apr",len:30},{longForm:"May",shortForm:"May",len:31},{longForm:"June",shortForm:"Jun",len:30},{longForm:"July",shortForm:"Jul",len:31},{longForm:"August",shortForm:"Aug",len:31},{longForm:"September",shortForm:"Sep",len:30},{longForm:"October",shortForm:"Oct",len:31},{longForm:"November",shortForm:"Nov",len:30},{longForm:"December",shortForm:"Dec",len:31}],days:[{longForm:"Sunday",shortForm:"Sun"},{longForm:"Monday",shortForm:"Mon"},{longForm:"Tuesday",shortForm:"Tue"},{longForm:"Wednesday",shortForm:"Wed"},{longForm:"Thursday",shortForm:"Thu"},{longForm:"Friday",shortForm:"Fri"},{longForm:"Saturday",shortForm:"Sat"}],time:{am:"am",pm:"pm"},ms:{SECOND:1e3,MINUTE:6e4,HOUR:a,DAY:s,YEAR:31536e6}};let m={"Etc/GMT":{offset:0,hem:"n"}};for(let e=-14;e<=14;e+=.5){let t=e;t>0&&(t="+"+t);let r="Etc/GMT"+t;m[r]={offset:-1*e,hem:"n"},m["UTC/GMT"+t]=m[r]}m["Etc/GMT+0"]=m["Etc/GMT"],m["Etc/GMT-0"]=m["Etc/GMT"];var l=m;var u=function(e,t,r){let n=function(e){let t=e%100;return(t+parseInt(t/4,10))%7}(e),o=[null,0,3,3,6,1,4,6,2,5,0,3,5][t];let a=function(e){if(e<1752)return(18-parseInt(e/100,10))%7;let t=parseInt(e/100,10);return{17:4,18:2,19:0,20:6,21:4,22:2,23:0}[String(t)]||0}(e),s=r,i=function(e){return!0==(e%4==0&&e%100!=0||e%400==0)?-1:0}(e);return(n+o+a+s+i)%7};var h=function(e,t,r){return!!e&&(!(!e.year&&0===!e.year)&&(!(!e.month||e.month<1||e.month>12)&&(!(!e.date||e.date<1||e.date>31)&&(!(e.hour&&e.hour<0&&e.hour>24)&&(!(e.minute&&e.minute<0&&e.minute>60)&&(!(e.second&&e.second<0&&e.second>60)&&(!(e.millisecond&&e.millisecond<0&&e.millisecond>1e3)&&!(e.offset&&e.offset<-14&&e.offset>14))))))))};const c=e=>"number"==typeof e;let d={};i.months.forEach(((e,t)=>{i.months[t]&&(d[i.months[t].shortForm.toLowerCase()]=t,d[i.months[t].longForm.toLowerCase()]=t)})),d.sept=9;var f=function(e){return c(e)?e:(e=e.toLowerCase().trim(),d[e])};const y=/^([+-])?([0-9]{1,2}):?([0-9]{2})?$/;var p=e=>{if(!e)return null;if("Z"===e||"z"===e)return 0;let t=e.match(y);if(null!==t){let[,e,r,n]=t;r=parseInt(r||"",10)||0,n=parseInt(n||"",10)||0,n/=60;let o=r+n;return"-"===e&&(o*=-1),o}return null};var g=function(e){if(c(e))return e;e=(e=(e=e.trim().toLowerCase()).replace(/^[0:]+/,"")).replace(/([0-9])h$/,"$1");let t=parseInt(e,10);if(t)return t;let r=e.match(/([0-9]+) ?(am|pm)$/);if(null!==r&&r[1]){let e=Number(r[1]);return"pm"===r[2]&&(e+=12),e}return 0};const w={hour:0,minute:0,second:0,millisecond:0};var b=(e="",t)=>{t=Object.assign({},w,t);let r=(e=e.replace(/^\s+/,"").toLowerCase()).match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:.]?([0-9]{1,4})?/);if(null!==r){let n=Number(r[1]);if(n<0||n>24)return t;let o=Number(r[2]);if(r[2].length<2||o<0||o>59)return t;t.hour=n,t.minute=o,t.second=Number(r[3])||0,t.millisecond=function(e=""){return(e=String(e)).length>3?e=e.substring(0,3):1===e.length?e+="00":2===e.length&&(e+="0"),Number(e)||0}(r[4]);let a=e.match(/[\\b0-9] ?(am|pm)\b/);return null!==a&&"pm"===a[1]&&(t.hour+=12),t}let n=g(e);return null!==n&&(t.hour=n),t};var z=(e="")=>{if(c(e))return e;if(e=e.trim(),!0===/^'[0-9][0-9]$/.test(e)){let t=Number(e.replace(/'/,""));return t>50?1900+t:2e3+t}let t=parseInt(e,10);return t=t||(new Date).getFullYear(),t};var $=(e="")=>{if(c(e))return e;return e=(e=(e=e.trim()).replace(/^0+/,"")).replace(/([0-9])(st|nd|rd|th)$/i,"$1"),parseInt(e,10)||1};var O=function(e){return"am"===(e=(e=e.trim().toLowerCase()).replace(/\./g,""))||"pm"===e?e:null};let v={tues:2,thur:4,thurs:4};i.days.forEach(((e,t)=>{v[i.days[t].shortForm.toLowerCase()]=t,v[i.days[t].longForm.toLowerCase()]=t}));var E=function(e){return c(e)?e:(e=e.trim().toLowerCase(),v.hasOwnProperty(e)?v[e]:null)};var M=function(e){return e=(e=e.trim()).replace(/^q/,""),parseInt(e,10)||null};const F=[].concat([{reg:/^(-?0{0,2}[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\-+:]+)?$/i,parse:e=>{let t={year:z(e[1]),month:parseInt(e[2],10),date:$(e[3])};return t.offset=p(e[5]),t=b(e[4],t),t}},{reg:/^([0-9]{4})[-/. ]([0-9]{1,2})[-/. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:e=>{let t={year:z(e[1]),month:parseInt(e[2],10),date:$(e[3])};return t.month>12&&(t.date=$(e[2]),t.month=parseInt(e[3],10)),t=b(e[4],t),t}},{reg:/^([0-9]{4})[-/. ]([a-z]+)[-/. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:e=>{let t={year:z(e[1]),month:f(e[2]),date:$(e[3]||"")};return t=b(e[4],t),t}}],[{reg:/^([0-9]{1,2})[-/.]([0-9]{1,2})[-/.]?([0-9]{4})?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2} ?(am|pm|gmt))?$/i,parse:e=>{let t=parseInt(e[1],10);return{date:$(e[2]),month:t,year:z(e[3])}}},{reg:/^([a-z]+)[-/. ]([0-9]{1,2})[-/. ]?([0-9]{4}|'[0-9]{2})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:e=>{let t={year:z(e[3]),month:f(e[1]),date:$(e[2]||"")};return t=b(e[4],t),t}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,parse:e=>{let t={year:z(e[3]),month:f(e[1]),date:$(e[2]||"")};return t=b(e[4],t),t}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9:]+)?( \+[0-9]{4})?( [0-9]{4})?$/i,parse:e=>{let t={year:z(e[5]),month:f(e[1]),date:$(e[2]||"")};return t=b(e[4],t),t}}],[{reg:/^([0-9]{1,2})[-/]([a-z]+)[-/]?([0-9]{4})?$/i,parse:e=>{let t={year:z(e[3]),month:f(e[2]),date:$(e[1]||"")};return t=b(e[4],t),t}},{reg:/^([0-9]{1,2})( [a-z]+)( [0-9]{4}| '[0-9]{2})? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2} ?(am|pm|gmt))?$/i,parse:e=>{let t={year:z(e[3]),month:f(e[2]),date:$(e[1])};return t.month?(t=b(e[4],t),t):null}},{reg:/^([0-9]{1,2})[ /]([a-z]+)[ /]([0-9]{4})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:e=>{let t={date:$(e[1]),month:f(e[2]),year:z(e[3])};return t=b(e[4],t),t}}],[{reg:/^([0-9]{4})[-/]([0-9]{2})$/,parse:e=>({year:z(e[1]),month:parseInt(e[2],10)})},{reg:/^([a-z]+) ([0-9]{4})$/i,parse:e=>({year:z(e[2]),month:f(e[1])})},{reg:/^(q[0-9])( of)?( [0-9]{4})?/i,parse:e=>{let t=M(e[1]||"");return t&&t>0&&t<5?{year:z(e[3]),month:3*(t-1)}:{}}},{reg:/^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,parse:e=>{if(e[1],e[3]){return{year:z(e[3])}}return{}}},{reg:/^(mon|monday|tues?|tuesday|wed|wednesday|thur?|thursday|fri|friday|sat|saturday|sun|sunday)$/i,parse:e=>{if(e[0]){return{day:E(e[0])}}return{}}},{reg:/^[0-9:]+(a\.?m\.?|p\.?m\.?)?$/i,parse:e=>{let t=e[0]||"",r=b(t.trim());return r.hour||0===r.hour?r:null}},{reg:/^[0-9,]+ ?b\.?c\.?$/i,parse:e=>{let t=e[0]||"";return t=t.replace(/^([0-9,]+) ?b\.?c\.?$/i,"-$1").trim(),{year:parseInt(t.trim(),10)}}},{reg:/^[0-9,]+ ?(a\.?d\.?|c\.?e\.?)$/i,parse:e=>{let t=e[0]||"";return{year:parseInt(t.trim(),10)}}},{reg:/^[0-9]{4}( ?a\.?d\.?)?$/i,parse:e=>({year:z(e[0])})}]);var j=function(e,t){let r=e=e.toLowerCase();(e=(e=e.replace(/([0-9])(th|rd|st|nd)\b/,"$1")).replace(/\b(mon|tues?|wed|wednes|thur?s?|fri|sat|satur|sun)(day)?\b/i,""))||(e=r),e=(e=(e=e.replace(/,/g,"")).replace(/ +/g," ").trim()).trim();for(let t=0;t<F.length;t+=1){let r=e.match(F[t].reg);if(null!==r){let e=F[t].parse(r);if(e)return e}}return null};const C=["year","month","date","hour","minute","second","millisecond"],T={month:1,date:1,hour:0,minute:0,second:0,millisecond:0},S=e=>"number"==typeof e,k=function(e,t,r){if(S(e.year))return Object.assign({},T,e);(S(e.hour)||S(e.minute)||S(e.second))&&(e.minute=e.minute||0,e.second=e.second||0,e.millisecond=e.millisecond||0);let n=function(e,t){const{methods:r}=t;let n=r.now();return r.getCal(n,e,t)}(t,r);return Object.assign({},n,e)},D=function(e,t,r){return"string"==typeof e.month&&(e.month=f(e.month)),"string"==typeof e.date&&(e.date=$(e.date)),k(e,t,r)};var N=function(e,t,r){if(null==e)return{epoch:r.methods.now(),tz:t};let n={};if("number"==typeof(o=e)&&isFinite(o))return function(e,t,r){return r.config.minimumEpoch&&e<r.config.minimumEpoch&&e>0&&(e*=1e3),{epoch:e,tz:t}}(e,t,r);var o,a;if(a=e,"[object Array]"===Object.prototype.toString.call(a))n=function(e,t,r){let n=e.reduce(((e,t,r)=>(e[C[r]]=t,e)),{});return D(n,t,r)}(e,t,r);else if((e=>"[object Object]"===Object.prototype.toString.call(e))(e)){if(!0===e.isSpacetime)return e.clone();n=D(e,t,r)}else(e=>"string"==typeof e)(e)&&(n=function(e,t,r){let n=j(e);return n?k(n,t,r):n}(e,t,r));if(!1===h(n)){if(r.config.throwUnparsedDate){let e=new Error("InvalidDate");throw e.type="InvalidDate",e}n=D({},t,r)}return t||(t=function(e){return null!==e.offset&&void 0!==e.offset?e.offset<0?`Etc/GMT+${Math.abs(e.offset)}`:`Etc/GMT-${e.offset}`:null}(n)||r.methods.fallbackTz(r)),{epoch:r.methods.getEpoch(n,t,r),tz:t}};var L=function(e,t){let{zones:r,config:n}=t;if(null==e)return null;if(!0===("number"==typeof(o=e)&&isFinite(o))){let t=e;return 0===t?"Etc/GMT":t<0?`Etc/GMT+${Math.abs(t)}`:"Etc/GMT"+-1*t}var o;if("z"===e||"Z"===e)return"Etc/GMT";if(r.hasOwnProperty(e))return e;if(n.throwUnknownTz){let t=new Error(`Spacetime: Unknown timezone: '${e}'`);throw t.type="UnknownTimezone",t}return null};var Y=function(e){if(e.config.tryLocalTimezone){let t="Etc/GMT"+-1*((new Date).getTimezoneOffset()/60);if(e.zones.hasOwnProperty(t))return t}return e.config.fallbackTz||null};var G=function(e,t,r){const{isLeapYear:n}=r.methods,{months:o}=r.model;return 2===e&&n(t)?29:o[e].len};var I=function(e,t){const{HOUR:r}=t.model.ms;let n=t.zones;if(e&&n.hasOwnProperty(e)&&n[e]){let t=n[e],o=t.offset||0;return"s"===t.hem&&t.dst&&(o+=t.change||1),o*r}return 0};const U={};var A=function(e,t,r){let n=function(e,t){const{YEAR:r,DAY:n}=t.model.ms,o=t.methods.isLeapYear;if(U.hasOwnProperty(e))return U[e];let a=0;if(e>1970)for(let t=1970;t<e;t+=1)o(t)?a+=r+n:a+=r,U[t+1]=a;else{let t=1970;for(;t>e;)t-=1,o(t)?a-=r+n:a-=r,U[t]=a}return a}(e,r);return n-=I(t,r),n};var _=function(e,t,r){const{YEAR:n,DAY:o}=r.model.ms,a=2*o;let s=0;const i=r.methods.isLeapYear;s-=I(t,r);let m=1970;if(e>a)for(;s<=e;){let t=n;i(m)&&(t=n+o);let r=s+t;if(r>e)break;s=r,m+=1}else for(;s>e;){let e=n;i(m)&&(e=n+o),s-=e,m-=1}return{start:s,year:m}};var q=function(e,t,r){const{zones:n,model:o,methods:a}=r,{getYear:s,dstChanges:i}=a,{DAY:m,HOUR:l}=o.ms;let{start:u,year:h}=s(e,t,r),c=n[t]||{},d={year:h,month:1,date:1,hour:0,second:0,millisecond:0,offset:c.offset||0},f=i(t,h,r);if("s"===c.hem){for(let t=0;t<f.length;t+=1)if(e<f[t].epoch){d.offset=f[t].offset,e-=f[t].delta*l;break}d.offset+=1}else for(let t=f.length-1;t>=0;t-=1)if(e>=f[t].epoch){d.offset=f[t].offset,e+=f[t].delta*l;break}let y=e-u,p=Math.floor(y/m),g=function(e,t,r){let n={month:1,date:1};if(!e)return n;const{months:o}=r.model,{isLeapYear:a}=r.methods,s=o.map((e=>e?e.len:0));let i=0;for(let r=1;r<o.length;r+=1){let o=s[r];if(2===r&&a(t)&&(o+=1),i+o>e)break;i+=o,n.month+=1}return n.date+=e-i,n}(p,h,r);Object.assign(d,g);let w=function(e,t){const{SECOND:r,MINUTE:n,HOUR:o}=t.model.ms;let a={hour:0,minute:0,second:0,millisecond:0};return a.hour=Math.floor(e/o),e-=a.hour*o,a.minute=Math.floor(e/n),e-=a.minute*n,a.second=Math.floor(e/r),e-=a.second*r,a.millisecond=e,a}(y-p*m,r);return Object.assign(d,w),d};var P=function(e,t){const r=t.methods.isLeapYear,n=t.model.months;return Object.keys(e).forEach((t=>{var r;void 0!==(r=e[t])&&Number(r)===r&&r%1!=0&&(e[t]=parseInt(e[t],10)),e[t]<0&&"year"!==t&&(e[t]=0)})),e.month=e.month||1,e.date=e.date||1,e.hour=e.hour||0,e.minute=e.minute||0,e.second=e.second||0,e.millisecond=e.millisecond||0,e.month&&e.month>12&&(e.month=12),e.date&&n[e.month-1]&&e.date>n[e.month-1].len&&(2===e.month&&r(e.year)?e.date=29:e.date=n[e.month-1].len),e.hour&&e.hour>24&&(e.month=24),e.minute&&e.minute>59&&(e.month=59),e.second&&e.second>59&&(e.second=59),e.millisecond&&e.millisecond>999&&(e.millisecond=999),e};var Z=function(e,t,r,n){const{DAY:o,HOUR:a,MINUTE:s,SECOND:i}=n.model.ms;let m=function(e,t,r){const{isLeapYear:n}=r.methods,{months:o}=r.model;let a=0;for(let r=e.month;r<t.month;r+=1)a+=o[r].len,2===r&&n(e.year)&&(a+=1);return a+=t.date-e.date,a}(t,r,n);return e+=m*o,t.month=r.month,t.date=r.date,m=r.hour-t.hour,e+=m*a,t.hour+=m,m=r.minute-t.minute,e+=m*s,t.minute+=m,m=r.second-t.second,e+=m*i,t.second+=m,m=r.millisecond-t.millisecond,e+=m,t.millisecond+=m,function(e,t){const r=["year","month","date","hour","minute","second","millisecond"];for(let n=0;n<r.length;n+=1){let o=r[n];if(e[o]!==t[o])return console.error("\n----\nMis-matched unit in walk:",o),!1}}(t,r),e};const Q={month:1,date:1,hour:0,minute:0,second:0,millisecond:0};var H=function(e,t,r){const{yearStart:n,dstChanges:o}=r.methods;let a=n((e=P(e,r)).year,t,r),s=Object.assign({},Q,{year:e.year}),i=o(t,e.year,r).reverse().find((t=>function(e,t){const r=["year","month","date","hour","minute","second","millisecond"];for(let n=0;n<r.length;n+=1){let o=r[n];if(e[o]>t[o])return!0;if(e[o]<t[o])return!1}return!0}(e,t.cal)));return i&&(a=i.epoch,s=Object.assign({},Q,i.cal,{year:e.year})),a=Z(a,s,e,r),a};var B={isLeapYear:e=>e%4==0&&(e%100!=0||e%400==0),getDay:e=>u(e.year,e.month,e.date),parse:N,parseTz:L,fallbackTz:Y,yearStart:A,getEpoch:H,dstChanges:()=>[],getYear:_,getCal:q,monthLen:G};const R=e=>e.world.methods.getCal(e.epoch,e.tz,e.world);var x={year:e=>R(e).year,month:e=>R(e).month,date:e=>R(e).date,hour:e=>R(e).hour,minute:e=>R(e).minute,second:e=>R(e).second,millisecond:e=>R(e).millisecond,ampm:e=>R(e).hour<12?"am":"pm",decade:e=>10*Math.floor(R(e).year/10),century:e=>100*Math.floor(R(e).year/100),millenium:e=>{let t=Math.floor(R(e).year/1e3);return t>=0?t+1:t},era:e=>R(e).year<0?"BC":"AD",quarter:e=>{let t=R(e).month;return t<3?1:t<6?2:t<9?3:4},hour12:e=>{let t=R(e).hour;return t>12?t-12:0===t?12:t},hourFloat:e=>{let{minute:t,hour:r}=R(e);return r+t/60},offset:e=>e.world.methods.getCal(e.epoch,e.tz,e.world).offset,monthName:e=>e.world.model.months[e.month()].longForm,time:e=>e.format("time")};const J=e=>e.world.methods.getCal(e.epoch,e.tz,e.world),V=function(e,t){let r=e.world.methods.getEpoch(t,e.tz,e.world);return e._from(r,e.tz)};let W={year:(e,t,r)=>{let n=J(e);return n.year=z(t),V(e,n)},month:(e,t,r)=>{let n=J(e);return n.month=f(t),V(e,n)},date:(e,t,r)=>{let n=J(e);return n.date=$(t),V(e,n)},hour:(e,t,r)=>{let n=J(e);return n.hour=g(t),V(e,n)},minute:(e,t,r)=>{let n=J(e);return n.minute=Number(t),V(e,n)},second:(e,t,r)=>{let n=J(e);return n.second=Number(t),V(e,n)},millisecond:(e,t,r)=>{let n=J(e);return n.millisecond=Number(t),V(e,n)},ampm:(e,t,r)=>{let n=J(e),o=n.hour,a=O(t);return"am"===a?o=o>12?o-12:o:"pm"===a&&(o=o<12?o+12:o),n.hour=o,V(e,n)},decade:function(e,t,r){let n=J(e),o=n.year%10;return n.year=Number(t)+o,V(e,n)},century:function(e,t,r){let n=J(e),o=n.year%100;return n.year=Number(t)+o,V(e,n)},millenium:function(e,t,r){let n=J(e),o=n.year%1e3,a=Number(t)-1;return n.year=1e3*a+o,V(e,n)},era:(e,t,r)=>{let n=J(e);return"bc"===(t=t.toLowerCase().replace(/\./g,"").trim())&&n.year>0&&(n.year*=-1),V(e,n)},quarter:(e,t,r)=>{let n=J(e);return n=Object.assign(n,{date:1,hour:0,minute:0,second:0,millisecond:0}),1===t?n.month=1:2===t?n.month=3:3===t?n.month=6:4===t&&(n.month=9),n.date=1,V(e,n)},hourFloat:(e,t,r)=>{t=Number(t);let n=J(e);return n.hour=Math.floor(t),n.minute=Math.floor(t%1*60),V(e,n)},hour12:(e,t,r)=>{},offset:(e,t)=>{p(t)},time:(e,t,r)=>{let n=Object.assign(J(e),b(t));return V(e,n)}};W.monthName=W.month;var K=W;const X={milliseconds:"millisecond",ms:"millisecond",seconds:"second",s:"second",minutes:"minute",min:"minute",mins:"minute",hours:"hour",h:"hour",hr:"hour",dates:"date",day:"date",days:"date",months:"month",years:"year",quarters:"quarter",centuries:"century",millenia:"millenium"},ee=new Set(["millenium","century","decade","year","quarter","month","week","date","hour","minute","second","millisecond"]),te=function(e=""){return"string"!=typeof e&&(e=String(e)),e=e.toLowerCase().trim(),X.hasOwnProperty(e)&&(e=X[e]),ee.has(e)?e:(console.error(`Unknown unit: '${e}'`),null)};let re={month:1,date:1,hour:0,minute:0,second:0,millisecond:0};const ne=function(e,t){const{monthLen:r}=t.methods;e.millisecond>999&&(e.second+=Math.floor(e.millisecond/1e3),e.millisecond=e.millisecond%1e3),e.second>59&&(e.minute+=Math.floor(e.second/60),e.second=e.second%60),e.minute>59&&(e.hour+=Math.floor(e.minute/60),e.minute=e.minute%60),e.hour>23&&(e.date+=Math.floor(e.hour/24),e.hour=e.hour%24),e.month>12&&(e.year+=Math.floor(e.month/12),e.month=e.month%12);let n=r(e.month,e.year,t);return e.date>n&&(e=function(e,t){const{monthLen:r}=t.methods;let n=r(e.month,e.year,t);for(;e.date>n;)e.date-=n,e.month+=1,e.month>12&&(e.year+=Math.floor(e.month/12),e.month=e.month%12),n=r(e.month,e.year,t);return e}(e,t)),e};var oe=function(e,t,r,n){return(e=Object.assign({},re,e))[r=te(r)]+=t,e=function(e,t){const{monthLen:r}=t.methods;for(;e.millisecond<0;)e.second-=1,e.millisecond+=1e3;for(;e.second<0;)e.minute-=1,e.second+=60;for(;e.minute<0;)e.hour-=1,e.minute+=60;for(;e.hour<0;)e.date-=1,e.hour+=24;for(;e.date<1;){e.month-=1,e.month<1&&(e.year-=1,e.month+=12);let n=r(e.month,e.year,t);e.date+=n}for(;e.month<1;)e.year-=1,e.month+=12;return e}(e,n),e=ne(e,n)},ae={day:function(e,t){const{epoch:r,tz:n,world:o}=this,{getDay:a,getCal:s}=o.methods;let i=o.methods.getCal(r,n,o);if(void 0!==e){let r=a(i.year,i.month,i.date);if(r===e)return i;let n=e-r;return n<0&&!0===t?n=7+n:n>0&&!1===t&&(n-=7),oe(i,n,"date",o)}return o.methods.getDay(i)},dayName:function(e){const{world:t}=this;let r=this.day();return t.model.days[r].longForm}};function se(e){return e?e[0].toUpperCase()+e.substr(1):""}function ie(e){let t=e%10,r=e%100;return 1===t&&11!==r?e+"st":2===t&&12!==r?e+"nd":3===t&&13!==r?e+"rd":e+"th"}function me(e,t=2){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}const le=e=>e.startOf("year").startOf("week").diff(e,"week"),ue=e=>e.startOf("year").diff(e,"day"),he=(e,t)=>e.startOf("year").startOf("week").add(t,"week");var ce={monthName:function(e){const{world:t}=this;let r=this.month();return t.model.months[r].longForm},week:function(e){return void 0!==e?he(this,e):le(this)},dayOfYear:function(e){if(void 0!==e){return this.startOf("year").add(e,"day")}return ue(this)},daysInMonth:function(){return(0,this.world.methods.monthLen)(this.month(),this.year(),this.world)},isLeapYear:function(){return(0,this.world.methods.isLeapYear)(this.year())},timezone:function(){return{name:this.tz}},clone:function(){return this._from(this.epoch,this.tz)},isValid:()=>!0,hasDst:function(){let{tz:e,world:t}=this;return t.zones[e].dst},isAsleep:function(){return!1},inDst:function(){let{epoch:e,tz:t,world:r}=this;const{getCal:n,dstChanges:o}=r.methods;if(!this.hasDst())return!1;return o(t,n(e,t,r).year,r),!0},weekStart:function(){return this.world.config.weekStart},json:function(){let{epoch:e,tz:t,world:r}=this;const{getCal:n,dstChanges:o}=r.methods;let a=n(e,t,r);a.epoch=e,a.tz=t;let s=r.zones[t]||{};return a.hem=s.hem,a.dst=o(t,a.year),a}};let de=Object.keys(x).reduce(((e,t)=>(e[t]=function(e,r){return void 0===e?x[t](this):K[t](this,e,r)},e)),{});Object.assign(de,ae,ce);var fe=de;const ye={day:e=>se(e.dayName()),"day-short":e=>se(e.world.model.days[e.day()].shortForm),"day-number":e=>e.day(),"day-ordinal":e=>ie(e.day()),date:(e,t)=>t.date,"date-ordinal":(e,t)=>ie(t.date),month:e=>e.monthName(),"month-short":(e,t)=>e.world.model.months[t.month].shortForm,"month-number":(e,t)=>t.month,"month-ordinal":(e,t)=>ie(t.month),"iso-month":(e,t)=>me(t.month),year:(e,t)=>t.year>0?t.year:`${Math.abs(t.year)} BC`,"year-short":(e,t)=>t.year>0?`'${String(t.year).substring(2,4)}`:Math.abs(t.year)+" BC","iso-year":(e,t)=>{let r=me(Math.abs(t.year),4);return t.year<0?"-"+me(r,6):r},"time-24":e=>`${me(e.hour24())}:${me(e.minute())}`,hour:e=>e.hour12(),"hour-24":(e,t)=>t.hour,minute:(e,t)=>t.minute,second:(e,t)=>t.second,ms:(e,t)=>t.millisecond,millisecond:(e,t)=>t.millisecond,"millisecond-pad":(e,t)=>me(t.millisecond,3),ampm:e=>e.ampm(),AMPM:e=>e.ampm().toUpperCase(),quarter:e=>"Q"+e.quarter(),offset:(e,t)=>{let r=t.offset||e.offset()||0;if(0===r)return"Z";let n=r<=0?"-":"+";r=Math.abs(r);let o=parseInt(r,10);n+=String(o).padStart(2,"0");let a=r%1;if(a){n+=":"+String(60*a).padStart(2,"0")}else n+=":00";return n},time:(e,t)=>`${e.hour12()}:${String(t.minute).padStart(2,"0")}${e.ampm()}`,"iso-short":(e,t)=>`${ye["iso-year"](e,t)}-${me(t.month)}-${me(t.date)}`,"iso-medium":(e,t)=>`${ye["iso-short"](e,t)}T${me(t.hour)}:${me(t.minute)}:${me(t.second)}.${me(t.millisecond,3)}`,iso:(e,t)=>`${ye["iso-medium"](e,t)}${ye.offset(e,t)}`,nice:(e,t)=>`${ye["month-short"](e,t)} ${ye["date-ordinal"](e,t)}, ${e.time()}`,"nice-day":(e,t)=>`${ye["day-short"](e,t)} ${ye["month-short"](e,t)} ${ye["date-ordinal"](e,t)}`,"nice-year":(e,t)=>`${ye["month-short"](e,t)} ${ye["date-ordinal"](e,t)}, ${t.year}`,"iso-utc":(e,t)=>e._from(e.epoch,"Etc/GMT").format("iso")},pe={"hour-12":"hour","day-name":"day","month-name":"month","iso 8601":"iso","time-h24":"time-24","time-12":"time","time-h12":"time",tz:"timezone","day-num":"day-number","month-num":"month-number","month-iso":"iso-month","year-iso":"iso-year","nice-short":"nice","nice-short-24":"nice-24",mdy:"numeric-us",dmy:"numeric-uk",ymd:"numeric","yyyy/mm/dd":"numeric","mm/dd/yyyy":"numeric-us","dd/mm/yyyy":"numeric-us","little-endian":"numeric-uk","big-endian":"numeric","day-nice":"nice-day"};["day","date","month","hour","minute","second","hour-24","hour-12"].forEach((e=>{ye[e+"-pad"]=(t,r)=>me(ye[e](t,r))})),Object.keys(pe).forEach((e=>{ye[e]=ye[pe[e]]}));var ge=ye;const we={G:e=>e.era(),GG:e=>e.era(),GGG:e=>e.era(),GGGG:e=>"AD"===e.era()?"Anno Domini":"Before Christ",y:(e,t)=>t.year,yy:e=>me(Number(String(e.year()).substring(2,4))),yyy:(e,t)=>t.year,yyyy:(e,t)=>t.year,yyyyy:(e,t)=>"0"+t.year,Q:e=>e.quarter(),QQ:e=>e.quarter(),QQQ:e=>e.quarter(),QQQQ:e=>e.quarter(),M:(e,t)=>t.month,MM:(e,t)=>me(t.month),MMM:e=>e.monthName(),MMMM:e=>se(e.monthName()),w:e=>e.week(),ww:e=>me(e.week()),d:(e,t)=>t.date,dd:(e,t)=>me(t.date),D:e=>e.dayOfYear(),DD:e=>me(e.dayOfYear()),DDD:e=>me(e.dayOfYear(),3),E:e=>ge["day-short"](e),EE:e=>ge["day-short"](e),EEE:e=>ge["day-short"](e),EEEE:e=>ge.day(e),EEEEE:e=>ge.day(e)[0],e:e=>ge.day(e),ee:e=>ge.day(e),eee:e=>ge["day-short"](e),eeee:e=>ge.day(e),eeeee:e=>ge.day(e)[0],a:e=>e.ampm().toUpperCase(),aa:e=>e.ampm().toUpperCase(),aaa:e=>e.ampm().toUpperCase(),aaaa:e=>e.ampm().toUpperCase(),h:e=>e.hour12(),hh:e=>me(e.hour12()),H:(e,t)=>t.hour,HH:(e,t)=>me(t.hour),m:(e,t)=>t.minute,mm:(e,t)=>me(t.minute),s:(e,t)=>t.second,ss:(e,t)=>me(t.second),SSS:e=>me(e.millisecond(),3),A:e=>e.epoch-e.startOf("day").epoch,z:e=>e.tz,zz:e=>e.tz,zzz:e=>e.tz,zzzz:e=>e.tz,Z:e=>e.format("offset").replace(/:/,""),ZZ:e=>e.format("offset").replace(/:/,""),ZZZ:e=>e.format("offset").replace(/:/,""),ZZZZ:e=>e.format("offset")},be=(e,t,r)=>{let n=e,o=t;for(let a=0;a<r;a+=1)we[n]=we[o],n+=e,o+=t};be("q","Q",4),be("L","M",4),be("Y","y",4),be("c","e",4),be("k","H",2),be("K","h",2),be("S","s",2),be("v","z",4),be("V","Z",4);var ze=(e,t,r)=>{let n=t.split("");return n=function(e){for(let t=0;t<e.length;t+=1)if("'"===e[t])for(let r=t+1;r<e.length;r+=1){if(e[r]&&(e[t]+=e[r]),"'"===e[r]){e[r]=null;break}e[r]=null}return e.filter((e=>e))}(n),n=function(e){for(let t=0;t<e.length;t+=1){let r=e[t];for(let n=t+1;n<e.length&&e[n]===r;n+=1)e[t]+=e[n],e[n]=null}return(e=e.filter((e=>e))).map((e=>("''"===e&&(e="'"),e)))}(n),n.reduce(((t,n)=>(void 0!==we[n]?t+=String(we[n](e,r)||""):(/^'.+'$/.test(e)&&(n=n.replace(/'/g,"")),t+=n),t)),"")};const $e=e=>e.world.methods.getCal(e.epoch,e.tz,e.world);let Oe={format:function(e="iso-short"){let t=$e(this);return e&&ge.hasOwnProperty(e)?ge[e](this,t):function(e,t,r){return t.replace(/\{(.+?)\}/g,((t,n)=>(n=n.toLowerCase().trim(),ge.hasOwnProperty(n)?ge[n](e,r):`{${n}}`)))}(this,e,t)},unixFmt:function(e){let t=$e(this);return ze(this,e,t)},iso:function(){return this.format("iso")}};var ve=Oe,Ee={add:function(e,t){let{epoch:r,tz:n,world:o}=this;const{getCal:a,getEpoch:s}=o.methods,i=o.model.ms;if(0===e||!t)return this._from(r,n);if(t=te(t),i.hasOwnProperty(t)){return r+=i[t]*e,this._from(r,n)}"week"!==t&&"weeks"!==t||(e*=7,t="day"),"quarter"!==t&&"quarters"!==t||(e*=3,t="month"),"decade"!==t&&"decades"!==t||(e*=10,t="year"),"century"!==t&&"centuries"!==t||(e*=100,t="year");let m=a(r,n,o);m=oe(m,e,t,o);let l=s(m,n,o);return this._from(l,n)},subtract:function(e,t){return this.add(-1*e,t)}};const Me=(e,t)=>Object.assign({},e,t);let Fe={millisecond:{}};Fe.second=Me(Fe.millisecond,{millisecond:0}),Fe.minute=Me(Fe.second,{second:0}),Fe.hour=Me(Fe.minute,{minute:0}),Fe.date=Me(Fe.hour,{hour:0}),Fe.month=Me(Fe.date,{date:1}),Fe.year=Me(Fe.month,{month:1});const je=(e,t)=>(e.year=Math.floor(e.year/t)*t,e),Ce={quarterHour:e=>{let t=e.minute;return e.minute=t>=45?45:t>=30?30:t>=15?15:0,Object.assign(e,{millisecond:0,second:0})},decade:e=>je(e,10),century:e=>je(e,100),millenium:e=>je(e,1e3)};var Te={startOf:function(e){const{tz:t,epoch:r,world:n}=this,{getCal:o,getEpoch:a}=n.methods;if(!(e=te(e)))return this;let s=o(r,t,n);if(Fe.hasOwnProperty(e)?s=Object.assign(s,Fe[e]):Ce.hasOwnProperty(e)&&(s=Ce[e](s)),"week"===e){let e=this;e=e.startOf("day"),s=o(e.epoch,e.tz,n)}let i=a(s,this.tz,this.world);return this._from(i)},next:function(e){if(!(e=te(e)))return this;return this.startOf(e).add(1,e)},last:function(e){if(!(e=te(e)))return this;return this.startOf(e).minus(1,e)},endOf:function(e){if(!(e=te(e)))return this;let t=this.next(e);return t=t.subtract(1,"millisecond"),t}},Se=Object.assign(Ee,Te);const ke=(e,t,r)=>{if("milliseconds"===r)return t.epoch-e.epoch;if("seconds"===r)return Math.floor((t.epoch-e.epoch)/1e3);if("minutes"===r)return Math.floor((t.epoch-e.epoch)/6e4);let n=0;for(;e.isBefore(t);)e=e.add(1,r),n+=1;return e.isAfter(t,r)&&(n-=1),n};var De=(e,t,r)=>e.isBefore(t)?ke(e,t,r):-1*ke(t,e,r);const Ne=["milliseconds","seconds","minutes","hours","days","months","years"];var Le={diff:function(e,t){return e=this._from(e),t?(t=te(t),De(this,e,t)):Ne.reduce(((t,r)=>(t[r]=De(this,e,r),t)),{})},since:function(e,t){return t=te(t),{}}};const Ye={millisecond:e=>e.epoch,second:e=>[Ye.minute(e),e.second()].join("-"),minute:e=>[Ye.hour(e),e.minute()].join("-"),hour:e=>[Ye.date(e),e.hour()].join("-"),date:e=>[Ye.month(e),e.date()].join("-"),month:e=>[Ye.year(e),e.month()].join("-"),year:e=>e.year(),week:e=>[e.year(),e.week()].join("-"),quarter:e=>[e.year(),e.quarter()].join("-"),season:e=>[e.year(),e.season()].join("-"),decade:e=>e.decade(),century:e=>e.century()};let Ge={isSame:function(e,t){if("string"==typeof e&&((r=t)&&"[object Object]"===Object.prototype.toString.call(r))&&t.isSpacetime){let r=e;e=t,t=r}var r;return(t=te(t))?(e=this._from(e),Ye[t](this)===Ye[t](e)):null},isBefore:function(e){return e=this._from(e),this.epoch<e.epoch},isAfter:function(e){return e=this._from(e),this.epoch>e.epoch},isEqual:function(e){return e=this._from(e),this.epoch===e.epoch},isBetween:function(e,t,r=!1){e=this._from(e),t=this._from(t);let n=this.epoch>e.epoch&&this.epoch<t.epoch;return!n&&r?this.epoch===e.epoch||this.epoch===t.epoch:n},every:function(e,t){if(!(e=te(e)))return[];let r=[];t=this._from(t);let n=this.clone();for(;n.isBefore(t);)r.push(n),n=n.add(1,e);return r},nearest:function(e){e=te(e);let t=this.startOf(e),r=this.next(e),n=this.epoch-t.epoch;return Math.abs(this.epoch-r.epoch)>n?t:r}};Object.assign(Ge,Le);var Ie=Ge;const Ue=e=>"[36m"+e+"[0m",Ae=e=>"[2m"+e+"[0m";var _e=function(){return"undefined"!=typeof window&&window.document?function(e){console.log("%c -=-=- ","background-color:#6699cc;"),console.groupCollapsed(`${e.epoch}   ${e.tz}`);let t={year:e.year(),month:`${e.monthName()} (${e.month()})`,date:`${e.format("date-ordinal")})`,time:`${e.time()})`,tz:`${e.tz})`};console.table(t),console.groupEnd()}(this):(e=this,console.log("\n"),console.log(` ${Ae(e.epoch)}  ${Ue(e.format("offset"))}\n`),console.log(`  │ ${Ae("year:").padEnd(14)}  ${Ue(e.year())}`),console.log(`  │ ${Ae("month:").padEnd(14)}  ${Ue(e.monthName())} (${Ue(e.month())})`),console.log(`  │ ${Ae("date:").padEnd(14)}  ${Ue(e.format("date-ordinal"))} `),console.log(`  │ ${Ae("time:").padEnd(14)}  ${Ue(e.time())} `),console.log(`  │ ${Ae("day:").padEnd(14)}  ${Ue(e.dayName())} `),console.log(`  │ ${Ae("tz:").padEnd(14)}  ${t=e.tz,"[33m"+t+"[0m"} `),console.log(`  │ ${Ae("sec:").padEnd(14)}  ${Ue(e.format("{second-pad}:{millisecond-pad}"))}`),void console.log("\n"));var e,t};var qe={fmt:"format",text:"format",leapYear:"isLeapYear",isLeap:"isLeapYear",inDST:"inDst",hasDST:"hasDst",hours:"hour",minutes:"minute",seconds:"second",minus:"subtract",plus:"add",isDst:"inDst",log:"debug"};var Pe=function(e,t){return{}};let Ze=Object.assign({},fe,ve,Se,Ie,{debug:_e,now:function(){return this._from(null,this.tz)},progress:Pe});Object.keys(qe).forEach((e=>{Ze[e]=Ze[qe[e]]}));var Qe=Ze;return o.plugin({model:i,config:{throwUnparsedDate:!0,throwUnknownTz:!0,tryLocalTimezone:!0,fallbackTz:"Etc/Utc",useTitleCase:!0,weekStart:1,preferDMY:!1},zones:l,methods:B,api:Qe}),o}));
